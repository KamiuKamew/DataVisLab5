<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      /* 侧边栏容器样式 */
      .dockPanelParent {
        position: absolute;
        top: 0;
        left: 0;
        width: 100px;
        height: 100%;
        background-color: #3a3a3a;
        border-right: 2px solid #ccc;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      /* 内部面板容器 */
      .ggbdockpanelhack {
        position: relative;
        width: 100%;
        height: 100%;
      }

      /* 顶部工具栏 */
      .toolbar {
        position: absolute;
        top: 0;
        width: 100%;
        padding: 10px;
        font-size: 16px;
      }

      /* 按钮样式 */
      .tabButton {
        background-color: #fff;
        border: 1px solid #ddd;
        margin: 5px 0;
        padding: 10px;
        width: 80%;
        text-align: middle;
        cursor: pointer;
      }

      /* 按钮选中状态 */
      .tabButton.selected {
        background-color: #2196f3;
        color: white;
      }

      /* 第二层侧边栏样式 */
      .sidePanel {
        position: absolute;
        top: 0;
        left: 100px;
        width: 250px;
        height: 100%;
        background-color: #f0f0f0;
        border-left: 2px solid #ccc;
        box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
        overflow-y: auto;
        padding: 10px;
        display: flex;
        flex-direction: column;
      }

      /* 第二层侧边栏标题 */
      .sidePanel h2 {
        color: #333;
        font-size: 18px;
      }

      /* 侧边栏内容 */
      .content {
        margin-top: 20px;
      }

      /* 隐藏内容 */
      .sidePanel.hidden {
        display: none;
      }

      /* 拖拽控件的外层容器 */
      .draggerParentHorizontal {
        position: absolute;
        right: 8px; /* 向右侧延伸，适配拖拽控件 */
        top: 0;
        bottom: 0;
        width: 16px; /* 拖拽控件的宽度 */
        cursor: ew-resize;
        overflow: hidden;
      }

      /* 拖拽控件 */
      .splitPaneDragger {
        position: absolute;
        top: 48%;
        right: 0px;
        width: 8px;
        height: 4%;
        background-color: #3a3a3a;
      }
    </style>
  </head>
  <body>
    <!-- 侧边栏容器 -->
    <div class="dockPanelParent">
      <!-- 顶部工具栏 -->
      <div class="toolbar">
        <button class="tabButton" id="btn-intro">介绍</button>
        <button class="tabButton" id="btn-params">参数</button>
      </div>
    </div>

    <!-- 第二层侧边栏 -->
    <div id="sidePanel" class="sidePanel hidden">
      <h2 id="sidePanelTitle">介绍</h2>
      <div class="content" id="sidePanelContent">
        <p>这是介绍内容。</p>
      </div>
      <!-- 拖拽控件的父容器 -->
      <div class="draggerParentHorizontal" id="draggerParent">
        <div class="splitPaneDragger" id="splitPaneDragger"></div>
      </div>
    </div>

    <script>
      // 获取按钮和第二层侧边栏
      const tabButtons = document.querySelectorAll(".tabButton");
      const sidePanel = document.getElementById("sidePanel");
      const sidePanelTitle = document.getElementById("sidePanelTitle");
      const sidePanelContent = document.getElementById("sidePanelContent");

      // 监听按钮点击事件，切换内容或收起侧边栏
      tabButtons.forEach((button) => {
        button.addEventListener("click", () => {
          // 如果点击的是当前已选中的按钮，收起侧边栏
          if (button.classList.contains("selected")) {
            sidePanel.classList.add("hidden");
            button.classList.remove("selected");
          } else {
            // 先移除所有按钮的选中状态
            tabButtons.forEach((btn) => btn.classList.remove("selected"));
            // 设置当前按钮为选中状态
            button.classList.add("selected");

            // 根据按钮不同切换第二层侧边栏的内容
            if (button.id === "btn-intro") {
              sidePanelTitle.innerText = "介绍";
              sidePanelContent.innerHTML = "<p>这是介绍内容。</p>";
            } else if (button.id === "btn-params") {
              sidePanelTitle.innerText = "参数";
              sidePanelContent.innerHTML = "<p>这是参数内容。</p>";
            }

            // 显示第二层侧边栏
            sidePanel.classList.remove("hidden");
          }
        });
      });

      // 拖拽功能
      const draggerParent = document.getElementById("draggerParent");
      const splitPaneDragger = document.getElementById("splitPaneDragger");

      splitPaneDragger.addEventListener("mousedown", (e) => {
        // 阻止默认事件，防止选中内容
        e.preventDefault();

        // 获取初始鼠标位置和侧边栏的初始宽度
        const initialMouseX = e.clientX;
        const initialWidth = sidePanel.offsetWidth;

        // 拖拽过程中更新宽度
        const onMouseMove = (moveEvent) => {
          const deltaX = moveEvent.clientX - initialMouseX - 20; // 计算鼠标的水平移动距离
          const newWidth = initialWidth + deltaX; // 更新宽度

          if (newWidth > 100 && newWidth < 600) {
            // 限制宽度范围
            sidePanel.style.width = newWidth + "px";
          }
        };

        // 停止拖拽
        const onMouseUp = () => {
          document.removeEventListener("mousemove", onMouseMove);
          document.removeEventListener("mouseup", onMouseUp);
        };

        document.addEventListener("mousemove", onMouseMove);
        document.addEventListener("mouseup", onMouseUp);
      });
    </script>
  </body>
</html>
